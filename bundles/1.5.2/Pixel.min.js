/**
  * Created by Joshua Barnett
  * 
  * Licensed under MIT, 2019
  * All Rights reserved
  */
 'use strict';function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a,l=0;l<t.length;l++)a=t[l],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return t&&("object"==typeof t||"function"==typeof t)?t:_assertThisInitialized(e)}var SpriteBase=function(){function e(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];_classCallCheck(this,e),this.point=new Point,this.anchor=new Point,this.opacity=1,this.deg=0,this.scale=1,this.noscale=t,this.flipX=!1,this.flipY=!1,this.id=0}return _createClass(e,[{key:"setSize",value:function(e,t){this.width=e,this.height=t}},{key:"setAnchor",value:function(e,t){this.anchor.x=e,this.anchor.y=t}},{key:"copy",value:function(e){this.point=e.point,this.deg=e.deg,this.anchor=e.anchor,this.flipX=e.flipX,this.flipY=e.flipY,this.opacity=e.opacity,this.scale=e.scale}},{key:"spin",value:function(e){this.deg=360*e}},{key:"settings",value:function(e){this.noscale||(e.globalAlpha=this.opacity),e.scale(this.scale,this.scale)}},{key:"reset",value:function(e){e.globalAlpha=1,this.noscale||e.scale(1/this.scale,1/this.scale)}},{key:"x",get:function(){return this.point.x},set:function(e){return this.point.x=e}},{key:"y",get:function(){return this.point.y},set:function(e){return this.point.y=e}}]),e}(),Circle=function(e){var a=Math.PI;function t(e){var a,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#000000";return _classCallCheck(this,t),a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,!0)),a.radius=e,a.color=i,a}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){this.settings(e),e.beginPath(),e.fillStyle=this.color,e.arc(this.x,this.y,this.radius,0,2*a),e.fill(),this.reset(e)}}]),t}(SpriteBase),Point=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.x=t,this.y=a}return _createClass(e,[{key:"clone",value:function(){return new e(this.x,this.y)}}]),e}(),Rectangle=function(e){var a=Math.PI;function t(e,a){var i,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#000000";return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,!0)),i.width=e,i.height=a,i.color=l,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){this.settings(e),0<this.deg||this.flipX||this.flipY?this.rotation_render(e):(e.fillStyle=this.color,e.fillRect(this.x-this.width*this.anchor.x,this.y-this.height*this.anchor.y,this.width,this.height),e.fill()),this.reset(e)}},{key:"rotation_render",value:function(e){e.save(),e.translate(this.x,this.y),this.flipX&&e.scale(-1,1),this.flipY&&e.scale(1,-1),e.rotate(a/180*this.deg),e.fillStyle=this.color,e.fillRect(0-this.width*this.anchor.x,0-this.height*this.anchor.y,this.width,this.height),e.fill(),e.restore()}}]),t}(SpriteBase),Container=function(){function e(t){var a=this;_classCallCheck(this,e),this.sprites=[],this._backColor="#FFFFFF",this.ctx=t,this.container=!0,this.regions={},this.keyboard={},this._events={},this.keyboard.on=function(e,t){"keydown"===e||"keyup"===e?a._events[e]=t:document["on"+e]=t}}return _createClass(e,[{key:"addChild",value:function(e){this.sprites.push(e)}},{key:"removeChild",value:function(e){for(var t in this.sprites)this.sprites[t].id===e&&delete this.sprites[t]}},{key:"on",value:function(e,t){"mousemove"===e||"mousedown"===e||"click"===e?this["on"+e]=t:this.view.addEventListener(e,t)}},{key:"on",value:function(e,t){"mousemove"===e||"mousedown"===e||"click"===e?this._events[e]=t:this.view.addEventListener(e,call)}},{key:"mousePos",value:function(e,t){var a=e.getBoundingClientRect(),i=e.width/a.width,l=e.height/a.height;return{x:(t.clientX-a.left)*i,y:(t.clientY-a.top)*l}}},{key:"background",value:function(e){this._backColor=e}},{key:"add",value:function(e){return e.render(this.ctx)}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}},{key:"addHitRegion",value:function(e,t){this.regions[e.name]=Object(Object.assign({call:t},e))}},{key:"cloneChildren",value:function(e){var t=this.contents;for(var a in t)e.addChild(t[a])}},{key:"render",value:function(){var e=this.sprites;for(var t in e)e[t].render(this.ctx)}}]),e}(),Physics=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.collisions=[],this.colliding={}}return _createClass(e,[{key:"add",value:function(e,t,a){this.collisions.push({name:e,parent:t,child:a}),this.colliding[e]={left:!1,right:!1,up:!1,down:!1}}},{key:"_checkCollisions",value:function(){for(var e in this.collisions){var t=this.collisions[e],a=t.name,i=t.parent,l={top:!1,bottom:!1,left:!1,right:!1,body:!1};if(Array.isArray(i))for(var r in i){var o=i[r],n=o.checkCollisions(t.child);l.body=n.body||l.body,l.left=n.left||l.left,l.right=n.right||l.right,l.bottom=n.bottom||l.bottom,l.top=n.top||l.top}else l=i.checkCollisions(t.child);this.colliding[a]=l}}}]),e}(),Stage=function(){function e(t){var a=this;_classCallCheck(this,e);var i=document.createElement("canvas");i.height=t.height,i.width=t.width;var l=i.getContext("2d");this.view=l.canvas,this.draw=l,this.tick=!!(null|void 0===t.ticker)||t.ticker,this.cursor=i.style.cursor,this.resources={},this.stage=new Container(this.draw),this.physics=new Physics(this),this._checkRegions=function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],l=!1,o=a.stage.mousePos(i,t);for(var n in a.stage.mouse=o,a.stage.regions){var r=a.stage.regions[n];o.x>r.start.x&&o.x<r.end.x&&o.y>r.start.y&&o.y<r.end.y&&(e?r.call():i.style.cursor="pointer",l=!0)}return l},this.view.onclick=function(t){if(a._checkRegions(t),a.stage._events.click)return a.stage._events.click(t)},document.onmousemove=function(t){var e=a._checkRegions(t,!1);if(e||(i.style.cursor=a.cursor),a.stage._events.mousemove)return a.stage._events.mousemove(t)},document.onmousedown=function(t){if(a.lastClickTarget=t.target,a.stage._events.mousedown)return a.stage._events.mousedown(t)},document.onkeydown=function(t){var e=t.key,i=Pixel.Keys;for(var l in i)e===i[l]&&(i.down[l]=!0);if(a.stage._events.keydown)return a.stage._events.keydown(t)},document.onkeyup=function(t){var e=t.key,i=Pixel.Keys;for(var l in i)e===i[l]&&(i.down[l]=!1);if(a.stage._events.keyup)return a.stage._events.keyup(t)},this.resources.add=function(e,t){var i=new Image;return new Promise(function(l){i.onload=function(){return a.resources[e]={image:i,renderable:!0},l(a.resources)},i.crossOrigin="Anonymous",i.src=t})},(void 0===t.ticker||t.ticker)&&window.requestAnimationFrame(this._animFrame.bind(this))}return _createClass(e,[{key:"addChild",value:function(e){this.stage.addChild(e)}},{key:"render",value:function(){var e=this.stage.sprites.length;1<=e&&this.stage.clear(),this.draw.fillStyle=this.stage._backColor,this.draw.fillRect(0,0,this.view.width,this.view.height);for(var t=0;t<e;t++)this.stage.sprites[t].render(this.draw)}},{key:"_animFrame",value:function(){this.render(),window.requestAnimationFrame(this.physics.checkCollisions.bind(this.physics)),window.requestAnimationFrame(this._tick.bind(this)),window.requestAnimationFrame(this._animFrame.bind(this))}},{key:"_tick",value:function(){this.stage._events.tick&&this.stage._events.tick()}}]),e}(),AnimationCore=function(){function e(t){_classCallCheck(this,e),this.parent=t,this.frame=0,this.cache=[],this.tracks={},this.current=!1,this.track=""}return _createClass(e,[{key:"stop",value:function(e){var t=new Sprite({renderable:!0,image:this.cache[e-1].image});this.current=[t],this.frame=0}},{key:"play",value:function(e){this.track!==e&&(this.frame=0),this.current=this.tracks[e],this.track=e}},{key:"add",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=a,l=this.cache,r=[];for(var o in l){var n=l[o];if(n.name.startsWith(t)&&0===i){var s=new Sprite({renderable:!0,image:n.image});r.push(s)}else 0<i&&i--}0<r.length&&(this.tracks[e]=r)}},{key:"create",value:function(e){for(var t,a=e.name,l=e.positions[0],r=e.positions[1],o=this.cache,n=[],s=l-1;s<r;s++)t=new Sprite({renderable:!0,image:o[s].image}),n.push(t);this.tracks[a]=n}},{key:"multiAdd",value:function(e){for(var t in e){var a=e[t],i=a.name,l=a.filter,r=a.offset;this.add(i,l,r)}}}]),e}(),AnimatedSprite=function(e){var a=Math.floor;function t(e,a){var i,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.15;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),i.animation=new AnimationCore(_assertThisInitialized(i)),i.speed=l,i.texture={image:new Image},i.config?(i.config=e,i.texture=a,i._splitFrames()):(i.sheet=a,i._splitSheetFrames()),i}return _inherits(t,e),_createClass(t,[{key:"_splitFrames",value:function(){var e=this.config,t=this;for(var a in e.textures[0].frames){var i=e.textures[0].frames[a];this.animation.cache.push({name:i.name,image:t._slice(i.position.x,i.position.y,i.position.w,i.position.h)})}}},{key:"_splitSheetFrames",value:function(){var e=this;for(var t in e.sheet){var a=e.sheet[t];this.animation.cache.push({name:t.toString(),image:a})}}},{key:"_slice",value:function(e,t,a,i){var l=document.createElement("canvas"),r=l.getContext("2d");r.canvas.width=this.texture.image.width,r.canvas.height=this.texture.image.height,r.drawImage(this.texture.image,0,0);var o=r.getImageData(e,t,a,i);return r.clearRect(0,0,this.texture.image.width,this.texture.image.height),l.width=a,l.height=i,r.putImageData(o,0,0),l}},{key:"render",value:function(e){if(this.animation.current){var t=this.animation.current[a(this.animation.frame)%this.animation.current.length];t.copy(this),this.texture=t.texture,t.render(e),this.animation.frame+=this.speed}}}]),t}(SpriteBase),SpriteSheet=function(e){var a=Math.floor;function t(e,a){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),i.texture=e,i.sheet=[],i._parse(a),i}return _inherits(t,e),_createClass(t,[{key:"_slice",value:function(e,t,a,i){var l=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],r=l||this.texture,o=document.createElement("canvas"),n=o.getContext("2d");n.canvas.width=r.width?r.width:r.image.width,n.canvas.height=r.height?r.height:r.image.height,n.drawImage(r.width?r:r.image,0,0);var s=n.getImageData(e,t,a,i);return o.width=a,o.height=i,n.putImageData(s,0,0),o}},{key:"trim",value:function(e){var t=e.width,a=e.height,l=this.sheet[0].width,r=this.sheet[0].height;for(var o in this.sheet){var i=this.sheet[o],n=l-t,s=r-a;this.sheet[o]=this._slice(n/2,s/2,t-n/2,a-s/2,i)}}},{key:"_parse",value:function(e){var t,i,l=this.texture.image.width,r=this.texture.image.height,o=a(l/e.width),n=a(r/e.height),s=e.margin||0,c=e.spacing||0;for(i=1;i<=n;i++)for(t=1;t<=o;t++){var h=this._slice(t*(e.width+c)-e.width,i*(e.height+c+s)-e.height,e.width-s-c,e.height-s-c);this.sheet.push(h)}}},{key:"generateSheet",value:function(){return this.sheet}}]),t}(SpriteBase),Sprite$1=function(e){var a=Math.PI;function t(e){var a;return _classCallCheck(this,t),a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),a.texture=e,a}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){this.texture.renderable&&(this.settings(e),0<this.deg||this.flipX||this.flipY?this.rotation_render(e):e.drawImage(this.texture.image,this.x/this.scale-this.texture.image.width*this.anchor.x,this.y/this.scale-this.texture.image.height*this.anchor.y),this.reset(e))}},{key:"rotation_render",value:function(e){var t=this.texture.image;e.save(),e.translate(this.x/this.scale,this.y/this.scale),this.flipX&&e.scale(-1,1),this.flipY&&e.scale(1,-1),e.fillStyle="#000000",e.rotate(a/180*this.deg),e.drawImage(t,-t.width*this.anchor.x,-t.height*this.anchor.y),e.restore()}},{key:"checkCollisions",value:function(e){var t=this.x/this.scale-this.texture.image.width*this.anchor.x,a=t+this.texture.image.width,i=this.y/this.scale-this.texture.image.height*this.anchor.y,l=i+this.texture.image.height,r=e.x/e.scale-(e.width||e.texture.image.width)*e.anchor.x,o=r+(e.width||e.texture.image.width)/e.scale,n=e.y/e.scale-(e.height||e.texture.image.height)*e.anchor.y,s=n+(e.height||e.texture.image.height)/e.scale,c=!0,h=!1,d=!1,g=!1,u=!1;return(l<n||i>s||a<r||t>o)&&(c=!1),c&&(l-0>s&&i+0<s&&(u=!0),i+0<n&&l-0>n&&(g=!0),t+0<r&&a-0>r&&(h=!0),a-0>o&&t+0<o&&(d=!0)),{body:c,left:h,right:d,top:g,bottom:u}}},{key:"clone",value:function(){var e=new t(this.texture);return e.copy(this),e}}]),t}(SpriteBase),Texture=function e(t){_classCallCheck(this,e);var a=this;this.image=new Image,this.renderable=!1,this.image.onload=function(){a.renderable=!0},this.image.src=t},Text=function(e){function t(e,a){var i,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#000000";return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),i.text=e,i.size=a,i.color=l,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(e){this.settings(e),e.beginPath(),e.fillStyle=this.color,e.font=this.size+"px Verdana",e.fillText(this.text,this.x,this.y),e.fill(),this.reset(e)}}]),t}(SpriteBase),Sound=function e(){_classCallCheck(this,e)},FillStyle=function(){function e(){_classCallCheck(this,e),this.color,this.alpha,this.reset()}return _createClass(e,[{key:"reset",value:function(){this.color=16777215,this.alpha=1}},{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t}},{key:"fill",value:function(e){return this.color=e,this.color}}]),e}(),ImageGraphics=function(){function e(){_classCallCheck(this,e),this.cctx,this.canvas,this.image=new Image,this.renderable=!1,this.width=0,this.height=0}return _createClass(e,[{key:"loadImage",value:function(e){var t=this;return new Promise(function(a){t.image.onload=function(){return t.renderable=!0,t.math=!0,t.width=t.image.width,t.height=t.image.height,a(t)},t.image.src=e})}},{key:"cropRect",value:function(e,t,a,i){var l=this;this.canvas=document.createElement("canvas"),this.cctx=this.canvas.getContext("2d"),this.cctx.canvas.width=this.width,this.cctx.canvas.height=this.height,this.cctx.drawImage(this.image,0,0);var r=this.cctx.getImageData(e,t,a,i);return this.cctx.clearRect(0,0,this.width,this.height),this.canvas.width=a,this.canvas.height=i,this.cctx.putImageData(r,0,0),new Sprite$1({renderable:!0,image:l.canvas})}}]),e}(),Graphics=function(e){var a=Math.PI;function t(e){var a;return _classCallCheck(this,t),a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),a.ctx=e,a.dsc=a.ctx.shadowColor,a._fillStyle=new FillStyle,a}return _inherits(t,e),_createClass(t,[{key:"transparency",value:function(e){return this.ctx.globalAlpha=e,this}},{key:"shadow",value:function(e,t,a,i){return this.ctx.shadowBlur=e,this.ctx.shadowColor=t,this.ctx.shadowOffsetX=a,this.ctx.shadowOffsetY=i,this}},{key:"fill",value:function(e){return this.ctx.fillStyle=this._fillStyle.fill(e),this}},{key:"end",value:function(){this._fillStyle.reset(),this.ctx.fillStyle="#000000",this.ctx.shadowBlur=0,this.ctx.shadowColor=this.dsc,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.globalAlpha=1}},{key:"drawRect",value:function(e,t,a,i){return this.ctx.fillRect(e,t,a,i),this}},{key:"arc",value:function(t,a,i,l,r){var e=!!(5<arguments.length&&void 0!==arguments[5])&&arguments[5];return this.ctx.beginPath(),this.ctx.arc(t,a,i,l,r,e),this.ctx.fill(),this}},{key:"arcTo",value:function(t,a,i,l,r){return this.ctx.beginPath(),this.ctx.arcTo(t,a,i,l,r),this.ctx.fill(),this}},{key:"move",value:function(e,t){return this.ctx.moveTo(e,t),this}},{key:"clearRect",value:function(e,t,a,i){return this.ctx.clearRect(e,t,a,i),this}},{key:"clearCircle",value:function(e,t,i){this.ctx.globalCompositeOperation="destination-out",this.ctx.arc(e,t,i,0,2*a),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over"}}]),t}(ImageGraphics),Map=function(e){var a=Math.floor;function t(e,a){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),i.sheet=e,i.data=a,i.tiles=[],i.exclude,i.colliders=[],i}return _inherits(t,e),_createClass(t,[{key:"_includeCollider",value:function(e,t){if(this.exclude){var a=!(-1<this.exclude.indexOf(e));a&&this.colliders.push(t)}}},{key:"applyTileset",value:function(e){for(var t=this.data.height,a=this.data.width,i=this,l=0;l<t;l++){for(var r=0;r<a;r++){var o=e[l][r],n=!!this.sheet[o]&&new Sprite$1({image:i.sheet[o],renderable:!0});this.tiles.push(n),n&&this._includeCollider(o,n)}r=0}}},{key:"generateBlankMap",value:function(){for(var e=0;e<this.data.height;e++)for(var t=0;t<this.data.width;t++)this.tiles.push(!1)}},{key:"collideByExclusion",value:function(e){this.exclude=e}},{key:"checkCollisions",value:function(e){for(var t={body:!1,top:!1,bottom:!1,left:!1,right:!1},a=0;a<this.colliders.length;a++){var l=this.colliders[a],r=l.checkCollisions(e);t.body=!0===r.body||!0===t.body,t.left=!0===r.left||!0===t.left,t.right=!0===r.right||!0===t.right,t.bottom=!0===r.bottom||!0===t.bottom,t.top=!0===r.top||!0===t.top}return t}},{key:"_match",value:function(e,t){for(var i=Math.random()*e,l=0,r=-1,o=0;o<t.length;o++)if(l+=t[o].weight,i<=l){var n=t[o].index;r=Array.isArray(n)?n[a(Math.random()*n.length)]:n;break}return r}},{key:"weightedRandomize",value:function(e,t,a,i,l){var r=l.map(function(e){return e.weight}),o=0;r.forEach(function(e){o+=e});for(var n=this,s=t;s<=t+i;s++)for(var c,h=e;h<=e+a;h++)c=this._match(o,l),this.tiles[h+s*this.data.height]=new Sprite$1({image:n.sheet[c],renderable:!0}),this._includeCollider(c,this.tiles[h+s*this.data.height])}},{key:"placeTile",value:function(e,t,a){var i=this;this.tiles[t+a*this.data.height]=new Sprite$1({image:i.sheet[e],renderable:!0}),this._includeCollider(e,this.tiles[t+a*this.data.height])}},{key:"tileToWorldX",value:function(e){return-1*(this.data.width*this.data.tileWidth/2)+e*this.data.tileWidth}},{key:"tileToWorldY",value:function(e){return-1*(this.data.height*this.data.tileHeight/2)+e*this.data.tileHeight}},{key:"placeTiles",value:function(e,t,a){Array.isArray(e[0])||(e=[e]);for(var i=e.length,l=e[0].length,r=0;r<i;r++)for(var o,n=0;n<l;n++)o=e[r][n],this.placeTile(o,t+n,a+r)}},{key:"fill",value:function(e,t,a,i,l){for(var r=a;r<a+l;r++)for(var o=t;o<t+i;o++)this.placeTile(e,o,r)}},{key:"render",value:function(e){var t=-1*(this.data.width*this.data.tileWidth/2),a=-1*(this.data.height*this.data.tileHeight/2);for(var i in this.tiles){var l=this.tiles[i];l&&(l.x=t+this.x,l.y=a+this.y,l.render(e)),t+=this.data.tileWidth,t>this.data.tileWidth*this.data.width/2-this.data.tileWidth&&(t=-1*(this.data.width*this.data.tileWidth/2),a+=this.data.tileHeight)}}}]),t}(SpriteBase);window.Pixel={Stage:Stage,Sprite:Sprite$1,AnimatedSprite:AnimatedSprite,Texture:Texture,Rectangle:Rectangle,Circle:Circle,Text:Text,Sound:Sound,Point:Point,Container:Container,Graphics:Graphics,SpriteSheet:SpriteSheet,Keys:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0",TAB:"Tab",SHIFT:"Shift",COMMA:",",PERIOD:".",BACKSLASH:"/",TILDE:"~",EXCLAMATION:"!",ATSIGN:"@",HASHTAG:"#",DOLLARSIGN:"$",PERCENT:"%",DASH:"-",UNDERSCORE:"_",PLUS:"+",QUESTIONMARK:"?",A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",down:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,0:!1,TAB:!1,SHIFT:!1,COMMA:!1,PERIOD:!1,BACKSLASH:!1,TILDE:!1,EXCLAMATION:!1,ATSIGN:!1,HASHTAG:!1,DOLLARSIGN:!1,PERCENT:!1,DASH:!1,UNDERSCORE:!1,PLUS:!1,QUESTIONMARK:!1,A:!1,B:!1,C:!1,D:!1,E:!1,F:!1,G:!1,H:!1,I:!1,J:!1,K:!1,L:!1,M:!1,N:!1,O:!1,P:!1,Q:!1,R:!1,S:!1,T:!1,U:!1,V:!1,W:!1,X:!1,Y:!1,Z:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1}},Map:Map,Physics:Physics,EXPORTS:{SpriteBase:SpriteBase,AnimationCore:AnimationCore,FillStyle:FillStyle,ImageGraphics:ImageGraphics}},window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};
